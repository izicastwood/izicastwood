<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Регистрация</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="nicepage.css" media="screen">
  <link rel="stylesheet" href="Регистрация.css" media="screen">
</head>
<body>

  <!-- ===== ШАПКА САЙТА с адаптивным меню ===== -->
  <header style="background:#3e2c23;">
    <style>
      .main-header {
        max-width:1200px;
        margin:0 auto;
        display:flex;
        align-items:center;
        justify-content:space-between;
        padding:24px 0 18px 0;
      }
      .header-logo-title {
        display:flex;
        align-items:center;
      }
      .header-logo-title img {
        height:54px;width:54px;margin-right:18px;
      }
      .main-menu {
        list-style:none;
        display:flex;
        gap:38px;
        margin:0;padding:0;
      }
      .main-menu a {
        color:#fff;
        text-decoration:none;
        font-size:1.07rem;
      }
      .main-menu a.active {
        text-decoration:underline;
        font-weight:bold;
      }
      .header-phone {
        color:#fff;
        font-size:1.1rem;
        margin-right:16px;
      }
      .cart-icon {
        color:#fff;
      }
      .menu-toggle {
        display:none;
        flex-direction:column;
        justify-content:center;
        align-items:center;
        width:44px;
        height:44px;
        background:transparent;
        border:none;
        cursor:pointer;
        margin-left:8px;
      }
      .menu-toggle span {
        width:28px;
        height:4px;
        background:#fff;
        margin:3px 0;
        border-radius:2px;
        display:block;
        transition:0.2s;
      }
      @media (max-width:900px) {
        .main-header {padding:14px 0 10px 0;}
        .main-menu {gap:18px;}
        .header-logo-title span {font-size:1.5rem;}
        .header-phone {font-size:0.95rem;}
      }
      @media (max-width:750px) {
        .main-header {
          flex-wrap:wrap;
          padding:8px 0 8px 0;
        }
        .main-menu {
          display:none;
          position:absolute;
          top:78px;
          left:0;
          width:100%;
          flex-direction:column;
          gap:0;
          background:#3e2c23;
          z-index:10;
          border-top:1px solid #705648;
        }
        .main-menu.show {display:flex;}
        .main-menu li {border-bottom:1px solid #705648;}
        .main-menu li:last-child {border-bottom:none;}
        .menu-toggle {display:flex;}
      }
    </style>
    <div class="main-header">
      <div class="header-logo-title">
        <img src="images/ChatGPTImage2.2025.22_20_24.png" alt="IzicastWood">
        <span style="font-family:'Merriweather',cursive;font-size:2.1rem;color:#fff;">IzicastWood</span>
      </div>
      <button class="menu-toggle" id="menuToggle" aria-label="Открыть меню">
        <span></span><span></span><span></span>
      </button>
      <nav style="position:relative;flex:1;">
        <ul class="main-menu" id="mainMenu">
          <li><a href="index.html">Главная</a></li>
          <li><a href="О-нас.html">О нас</a></li>
          <li><a href="Регистрация.html" class="active">Регистрация</a></li>
          <li><a href="Контакты.html">Контакты</a></li>
          <li><a href="Каталог.html">Каталог</a></li>
        </ul>
      </nav>
      <div style="display:flex;align-items:center;gap:8px;">
        <span class="header-phone">
          <svg style="height:18px;vertical-align:middle;margin-right:4px;" fill="#fff" viewBox="0 0 16 16"><path d="M14.5,3l-2.1,5H6.1L5.9,7.6L4,3H14.5 M0,0v1h2.1L5,8l-2,4h11v-1H4.6l1-2H13l3-7H3.6L2.8,0H0z M12.5,13
          c-0.8,0-1.5,0.7-1.5,1.5s0.7,1.5,1.5,1.5s1.5-0.7,1.5-1.5S13.3,13,12.5,13L12.5,13z M4.5,13C3.7,13,3,13.7,3,14.5S3.7,16,4.5,16
          S6,15.3,6,14.5S5.3,13,4.5,13L4.5,13z"></path></svg>
          +7 (918) 068 47 03
        </span>
        <a href="Каталог.html" class="cart-icon">
          <svg style="height:32px;width:32px;" fill="none" stroke="#fff" stroke-width="2" viewBox="0 0 24 24"><circle cx="9" cy="21" r="1"></circle><circle cx="20" cy="21" r="1"></circle><path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61l1.38-7.39H6"></path></svg>
        </a>
      </div>
    </div>
    <script>
      // Мобильное меню: гамбургер
      document.getElementById('menuToggle').onclick = function() {
        document.getElementById('mainMenu').classList.toggle('show');
      };
      // Авто-скрытие меню при переходе по ссылке (на мобиле)
      document.querySelectorAll('#mainMenu a').forEach(function(link){
        link.onclick = function() {
          document.getElementById('mainMenu').classList.remove('show');
        }
      });
    </script>
  </header>
  <!-- ===== /ШАПКА ===== -->

  <!-- ===== ФОРМА РЕГИСТРАЦИИ ===== -->
  <div style="display: flex; justify-content: center; align-items: center; min-height: 70vh;">
    <form id="regForm" style="width: 450px;">
      <div style="margin-bottom: 15px;">
        <label for="phone">Телефон</label>
        <input type="tel" id="phone" name="phone" required placeholder="+7XXXXXXXXXX" style="display:block;width:100%;margin-top:4px;padding:8px;">
      </div>
      <div style="margin-bottom: 15px;">
        <label for="email">Эл. почта</label>
        <input type="email" id="email" name="email" required placeholder="Введите email адрес" style="display:block;width:100%;margin-top:4px;padding:8px;">
      </div>
      <div style="margin-bottom: 15px;">
        <label for="password">Пароль</label>
        <input type="password" id="password" name="password" required placeholder="Введите пароль" style="display:block;width:100%;margin-top:4px;padding:8px;">
      </div>
      <div style="margin-bottom: 15px;">
        <input type="checkbox" id="agree" name="agree" required>
        <label for="agree">Я даю согласие на обработку персональных данных</label>
      </div>
      <button type="submit" style="padding:10px 30px;background:#111;color:#fff;border:none;">Регистрация</button>
      <div style="margin-top:12px;">
        <a href="reset.html" style="color:#478ac9;text-decoration:underline;font-size:15px;">Забыли пароль?</a>
      </div>
      <div id="reg-message" style="margin-top:18px;text-align:center;"></div>
    </form>
  </div>

  <!-- ===== ПОДКЛЮЧЕНИЕ FIREBASE ===== -->
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-auth-compat.js"></script>
  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyC1akzlj1iHHmGVv-NfyNYzOsXAKO543c9g",
      authDomain: "user-registration-da501.firebaseapp.com",
      projectId: "user-registration-da501",
      storageBucket: "user-registration-da501.appspot.com",
      messagingSenderId: "676255544545",
      appId: "1:676255544545:web:5f1becf75e7e0e4e3933a0",
      measurementId: "G-9S9NX4D6B5"
    };
    if (!firebase.apps.length) {
      firebase.initializeApp(firebaseConfig);
    }

    document.getElementById('regForm').addEventListener('submit', function(e) {
      e.preventDefault();
      const phone = document.getElementById('phone').value.trim();
      const email = document.getElementById('email').value.trim();
      const password = document.getElementById('password').value.trim();
      const agree = document.getElementById('agree').checked;
      const regMsg = document.getElementById('reg-message');

      if (!agree) {
        regMsg.style.color = "red";
        regMsg.textContent = "Поставьте галочку согласия!";
        return;
      }

      regMsg.style.color = "#478ac9";
      regMsg.textContent = "Пробуем зарегистрировать...";

      firebase.auth().createUserWithEmailAndPassword(email, password)
        .then((userCredential) => {
          userCredential.user.updateProfile({
            displayName: phone
          }).then(() => {
            regMsg.style.color = "green";
            regMsg.textContent = "Регистрация успешна! Можете войти на сайте.";
            document.getElementById('regForm').reset();
          });
        })
        .catch((error) => {
          regMsg.style.color = "red";
          regMsg.textContent = "Ошибка: " + error.message;
        });
    });
  </script>
</body>
</html>
